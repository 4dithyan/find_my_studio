{% include "Guest/header.html" %}
{% load static %}

<script src="{% static 'jquery-3.7.1.min.js' %}"></script>
<script>
    $(document).ready(function() {
       //alert('haii');
     $.ajaxSetup({
        headers: { "X-CSRFToken": '{{csrf_token}}' }
      });
      $('#district').change(function () {
        var districtid = $(this).val();
        //alert(districtid);
        $.ajax({
          type: "POST",
          url: '{% url "filllocations" %}',
          data: { did: districtid },
          dataType: "json",
          success: function (data) {
            $('#location').empty();
              //alert("test");
            var row=$('<option />');
            row.val(0);
            row.text('--Select location--');
            $('#location').append(row);
           
$.each(data, function (key, val) {
    var row=$('<option />');
            row.val(val.locationid);
            row.text(val.locationname);
            $('#location').append(row);
    $('#location').append(row);
});
          }
        });
      });
    });
</script>


    
        
    <!-- ================ contact section start ================= -->
    <section class="contact-section">
            <div class="container">
                <div class="d-none d-sm-block mb-5 pb-4">
                    <script>
                        function initMap() {
                            var uluru = {
                                lat: -25.363,
                                lng: 131.044
                            };
                            var grayStyles = [{
                                    featureType: "all",
                                    stylers: [{
                                            saturation: -90
                                        },
                                        {
                                            lightness: 50
                                        }
                                    ]
                                },
                                {
                                    elementType: 'labels.text.fill',
                                    stylers: [{
                                        color: '#ccdee9'
                                    }]
                                }
                            ];
                            var map = new google.maps.Map(document.getElementById('map'), {
                                center: {
                                    lat: -31.197,
                                    lng: 150.744
                                },
                                zoom: 9,
                                styles: grayStyles,
                                scrollwheel: false
                            });
                        }
                    </script>
                    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDpfS1oRGreGSBU5HHjMmQ3o5NLw7VdJ6I&amp;callback=initMap">
                    </script>
    
                </div>
    
    
                <div class="row">
                    <div class="col-12">
                        <h2 class="contact-title">Customer Registration</h2>
                    </div>
                    <div class="col-lg-8">
                        <form class="form-contact contact_form" action="{% url 'customerreg_process' %}" method="post">
                            {% csrf_token %}
                            <div class="row">
                        
                                <div class="col-12">
                                    <div class="form-group">
                                        <label>Name</label>
                                        <input class="form-control" name="name" id="name" type="text" placeholder="Enter your name" 
                                               required pattern="^[A-Za-z\s]{3,50}$" title="Name should contain only letters and be 3-50 characters long.">
                                    </div>
                                </div>
                        
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label>District</label>
                                        <select name="district" id="district" class="form-control valid" required>
                                            <option value="">--Select District--</option>
                                            {% for d in district %}
                                            <option value="{{d.districtid}}">{{d.districtname}}</option>
                                            {% endfor %}
                                        </select>
                                    </div>
                                </div>
                        
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label>Location</label>
                                        <select name="location" id="location" class="form-control valid" required>
                                            <option value="">--Select Location--</option>
                                        </select>
                                    </div>
                                </div>
                        
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label>Address</label>
                                        <input class="form-control valid" name="address" id="address" type="text" 
                                               placeholder="Enter your address" required minlength="5">
                                    </div>
                                </div>
                        
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label>Pincode</label>
                                        <input class="form-control valid" name="pincode" id="pincode" type="text" 
                                               placeholder="Enter your pincode" required pattern="\d{6}" 
                                               title="Pincode should be exactly 6 digits.">
                                    </div>
                                </div>
                        
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label>Email</label>
                                        <input class="form-control valid" name="email" id="email" type="email" 
                                               placeholder="Enter your email" required>
                                    </div>
                                </div>
                        
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label>Phone Number</label>
                                        <input class="form-control valid" name="phonenumber" id="phone" type="tel" 
                                               placeholder="Enter your phone number" pattern="[0-9]{10}" 
                                               title="Phone number should be exactly 10 digits."
                                               required>
                                    </div>
                                </div>
                        
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label>Username</label>
                                        <input class="form-control valid" name="username" id="username" type="text" 
                                               placeholder="Enter username" required minlength="4" maxlength="20">
                                    </div>
                                </div>
                        
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label>Password</label>
                                        <input class="form-control valid" name="password" id="password" type="password" 
                                               placeholder="Enter password" required minlength="6">
                                    </div>
                                </div>
                        
                            </div>
                            <div class="form-group mt-3">
                                <button type="submit" class="button button-contactForm boxed-btn">Register</button>
                            </div>
                        </form>
                    </div>
                    
                </div>
            </div>
        </section>
    <!-- ================ contact section end ================= -->
    
   
    
        
        <!--contact js-->
        <script src="js/contact.js"></script>
        <script src="js/jquery.ajaxchimp.min.js"></script>
        <script src="js/jquery.form.js"></script>
        <script src="js/jquery.validate.min.js"></script>
        <script src="js/mail-script.js"></script>
    
        <script src="js/main.js"></script>
    </body>
    
    </html>
   
{% include "Guest/footer.html" %}
